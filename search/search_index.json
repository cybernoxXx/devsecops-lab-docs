{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Welcome to MkDocs"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%200%20-%20Introduzione/Introduzione/","text":"---- Introduzione da scrivere ----","title":"Parte 0 - Introduzione"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/","text":"In questa sezione espongo come ho deciso di strutturare l'ambiente in base alle risorse disponibile e come ho installato le Virtual Machine (VM) che ospiteranno il laboratorio. Il computer che ospiter\u00e0 le VM con il cluster k8s ha le seguenti caratteristiche: Ryzen 5 5600X 64Gb RAM 220Gb SSD 465Gb HDD Windows 11 24H2 Installazione virtualizzatore e VM Come prima cosa ho installato Virtualbox (https://www.virtualbox.org/wiki/Downloads) v7.1.8 sul disco contente il sistema operativo (SO): Seguito il setup senza cambiare niente, alla fine ho ottenuto il seguente errore (sono comunque andato avanti). Creata la cartella \"VirtualBox VMs\" su SSD dedicato al progetto e l'ho impostata come cartella predefinita per le macchine. Una volta installato Virtualbox ho creato ed installato il SO per le tre VM necessarie per il cluster: Scaricato Ubuntu server 24.04.2 LTS (versione server per avere solo la CLI). Ridotto range del DHCP sul router in modo da dare indirizzi statici alle macchine. VM chiamate Control plane node 01, Worker node 01 e Worker node 02. Saltata l'installazione non supervisionata. Fornite 3 CPU e 16384MB (16Gb) RAM, 60GB SSD (crea un disco virtuale ora). Impostata scheda di rete con bridge Avviata VM ma ho ottenuto un errore. Attivato virtualizzatore (cercare la procedura in base al proprio processore, cambia tra Intel e AMD ed in base alla scheda madre perch\u00e9 bisogna andare nel BIOS): Avviata nuovamente la VM e seguito il setup del SO. Scelto layout italiano e lingua inglese, per le impostazioni di rete ho selezionato l'unica interfaccia che avevo disponibile ed inserita come subnet la rete di casa (/24 come suffisso, quindi utilizzato il .0 come indirizzo), come indirizzo ho inserito uno di quelli tolti dal range del DHCP (altrimenti se utilizzato uno che pu\u00f2 essere assegnato anche dal DHCP \u00e8 possibile avere un IP duplicato nella LAN), come gateway e name servers inserito l'IP del router, questo perch\u00e9 \u00e8 configurato come DNS proxy (altrimenti \u00e8 possibile mettere come DNS gli IP di Cloudflare o Google). Non impostato n\u00e9 proxy n\u00e9 lvm, hostname (cos\u00ec come username e password) scelto a piacimento, no ubuntu pro, no ssh, no pacchetti selezionati e fatto reboot a fine installazione (da delle failed quando si riavvia ma poi parte premendo invio) Se non si passa la verifica del mirror significa che ci sono problemi di rete, nel mio caso non avevo messa scheda con bridge alla VM e quindi non andava bene l'IP statico che ho configurato con la scheda di rete assegnata alla VM. L'installazione del SO sulla VM in questione \u00e8 stata completata con successo dopo aver modificato la scheda ma all'avvio veniva generato un errore di connessione all'url per il check degli aggiornamenti (la connettivit\u00e0 ad internet era presente e funzionate), ho eliminato la VM e rifatto tutto da capo, il problema si \u00e8 risolto. Test, aggiornamento SO ed installazione Guest Addition Acceduto correttamente con username e password impostati, pingato 8.8.8.8 con successo. Aggiornato tutti i pacchetti: sudo apt-get update sudo apt-get upgrade -y sudo apt-get dist-upgrade -y sudo apt-get autoremove -y sudo apt-get install unattended-upgrades sudo apt-get clean reboot Installazione Guest Additions (opzionale) Non vado nel dettaglio perch\u00e9 questo passaggio \u00e8 necessario se viene installata una GUI e se viene utilizzata la shell che si apre avviando la VM da virtualbox. Ho scelto successivamente di utilizzare mRemoteNG per la connessione SSH alle macchine, avrei potuto saltare questo passaggio. sudo apt-get update sudo apt-get upgrade -y sudo apt-get install -y build-essential dkms linux-headers-$(uname -r) sudo mkdir /media/cdrom sudo mount /dev/cdrom /media/cdrom sudo /media/cdrom/VBoxLinuxAdditions.run lsmod | grep vbox vboxguest vboxsf vboxvideo sudo reboot Installazione Kali Linux Su un altro computer ho installato la VM con Kali Linux: Scaricata ISO da https://www.kali.org/get-kali/#kali-installer-images (quello raccomandato). Creata VM con 4 CPU, 8Gb RAM, scheda di rete bridge. Non impostato dominio, no lvm (unica partizione). Per i pacchetti ho lasciato quello che era selezionato (xfce). Aggiornati tutti i pacchetti (vedi comandi utilizzati per Ubuntu server). Settato ip statico con nmtui (stessa logica utilizzata per Ubuntu server). Installati Guest Addons (stessa procedura esposta precedentemente), l'unica differenza \u00e8 che sudo apt install build-essential dkms linux-headers-$(uname -r) non funziona perch\u00e9 il kernel non \u00e8 aggiornato, aggiornarlo con il comando apt-get full-upgrade -y. Il comando lsmod mostrer\u00e0 soltanto i moduli vboxguest e vboxsf, il servizio vboxaddservice-service \u00e8 in failed (problema non bloccante, non l'ho risolto). Testato copia/incolla da host windows e ridimensionamento, funziona tutto correttamente. Passwordless sudo Per praticit\u00e0 ho fatto in modo che il mio utente potesse utilizzare sudo senza aver bisogno di inserire la password. Ho modificato il file /etc/sudoers aggiungendo in fondo la seguente riga: nox ALL=(ALL) NOPASSWD: ALL","title":"Parte 1.1 - Creazione ed installazione VM"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/#installazione-virtualizzatore-e-vm","text":"Come prima cosa ho installato Virtualbox (https://www.virtualbox.org/wiki/Downloads) v7.1.8 sul disco contente il sistema operativo (SO): Seguito il setup senza cambiare niente, alla fine ho ottenuto il seguente errore (sono comunque andato avanti). Creata la cartella \"VirtualBox VMs\" su SSD dedicato al progetto e l'ho impostata come cartella predefinita per le macchine. Una volta installato Virtualbox ho creato ed installato il SO per le tre VM necessarie per il cluster: Scaricato Ubuntu server 24.04.2 LTS (versione server per avere solo la CLI). Ridotto range del DHCP sul router in modo da dare indirizzi statici alle macchine. VM chiamate Control plane node 01, Worker node 01 e Worker node 02. Saltata l'installazione non supervisionata. Fornite 3 CPU e 16384MB (16Gb) RAM, 60GB SSD (crea un disco virtuale ora). Impostata scheda di rete con bridge Avviata VM ma ho ottenuto un errore. Attivato virtualizzatore (cercare la procedura in base al proprio processore, cambia tra Intel e AMD ed in base alla scheda madre perch\u00e9 bisogna andare nel BIOS): Avviata nuovamente la VM e seguito il setup del SO. Scelto layout italiano e lingua inglese, per le impostazioni di rete ho selezionato l'unica interfaccia che avevo disponibile ed inserita come subnet la rete di casa (/24 come suffisso, quindi utilizzato il .0 come indirizzo), come indirizzo ho inserito uno di quelli tolti dal range del DHCP (altrimenti se utilizzato uno che pu\u00f2 essere assegnato anche dal DHCP \u00e8 possibile avere un IP duplicato nella LAN), come gateway e name servers inserito l'IP del router, questo perch\u00e9 \u00e8 configurato come DNS proxy (altrimenti \u00e8 possibile mettere come DNS gli IP di Cloudflare o Google). Non impostato n\u00e9 proxy n\u00e9 lvm, hostname (cos\u00ec come username e password) scelto a piacimento, no ubuntu pro, no ssh, no pacchetti selezionati e fatto reboot a fine installazione (da delle failed quando si riavvia ma poi parte premendo invio) Se non si passa la verifica del mirror significa che ci sono problemi di rete, nel mio caso non avevo messa scheda con bridge alla VM e quindi non andava bene l'IP statico che ho configurato con la scheda di rete assegnata alla VM. L'installazione del SO sulla VM in questione \u00e8 stata completata con successo dopo aver modificato la scheda ma all'avvio veniva generato un errore di connessione all'url per il check degli aggiornamenti (la connettivit\u00e0 ad internet era presente e funzionate), ho eliminato la VM e rifatto tutto da capo, il problema si \u00e8 risolto.","title":"Installazione virtualizzatore e VM"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/#test-aggiornamento-so-ed-installazione-guest-addition","text":"Acceduto correttamente con username e password impostati, pingato 8.8.8.8 con successo. Aggiornato tutti i pacchetti: sudo apt-get update sudo apt-get upgrade -y sudo apt-get dist-upgrade -y sudo apt-get autoremove -y sudo apt-get install unattended-upgrades sudo apt-get clean reboot","title":"Test, aggiornamento SO ed installazione Guest Addition"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/#installazione-guest-additions-opzionale","text":"Non vado nel dettaglio perch\u00e9 questo passaggio \u00e8 necessario se viene installata una GUI e se viene utilizzata la shell che si apre avviando la VM da virtualbox. Ho scelto successivamente di utilizzare mRemoteNG per la connessione SSH alle macchine, avrei potuto saltare questo passaggio. sudo apt-get update sudo apt-get upgrade -y sudo apt-get install -y build-essential dkms linux-headers-$(uname -r) sudo mkdir /media/cdrom sudo mount /dev/cdrom /media/cdrom sudo /media/cdrom/VBoxLinuxAdditions.run lsmod | grep vbox vboxguest vboxsf vboxvideo sudo reboot","title":"Installazione Guest Additions (opzionale)"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/#installazione-kali-linux","text":"Su un altro computer ho installato la VM con Kali Linux: Scaricata ISO da https://www.kali.org/get-kali/#kali-installer-images (quello raccomandato). Creata VM con 4 CPU, 8Gb RAM, scheda di rete bridge. Non impostato dominio, no lvm (unica partizione). Per i pacchetti ho lasciato quello che era selezionato (xfce). Aggiornati tutti i pacchetti (vedi comandi utilizzati per Ubuntu server). Settato ip statico con nmtui (stessa logica utilizzata per Ubuntu server). Installati Guest Addons (stessa procedura esposta precedentemente), l'unica differenza \u00e8 che sudo apt install build-essential dkms linux-headers-$(uname -r) non funziona perch\u00e9 il kernel non \u00e8 aggiornato, aggiornarlo con il comando apt-get full-upgrade -y. Il comando lsmod mostrer\u00e0 soltanto i moduli vboxguest e vboxsf, il servizio vboxaddservice-service \u00e8 in failed (problema non bloccante, non l'ho risolto). Testato copia/incolla da host windows e ridimensionamento, funziona tutto correttamente.","title":"Installazione Kali Linux"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.1%20-%20Creazione%20ed%20installazione%20VM/#passwordless-sudo","text":"Per praticit\u00e0 ho fatto in modo che il mio utente potesse utilizzare sudo senza aver bisogno di inserire la password. Ho modificato il file /etc/sudoers aggiungendo in fondo la seguente riga: nox ALL=(ALL) NOPASSWD: ALL","title":"Passwordless sudo"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.2%20-%20Accesso%20SSH%20e%20snapshot/","text":"In questa sezione espongo come ho abilitato l'accesso in SSH alle varie VM (non fatto sulla Kali perch\u00e9 al momento penso che la utilizzer\u00f2 sempre lanciando il terminale da GUI o usando l'interfaccia grafica dei vari tools). Ho scelto di usare mRemoteNG perch\u00e9 \u00e8 uno strumento che conosco gi\u00e0. Accesso SSH alle macchine tramite mRemoteNG Altrimenti non \u00e8 possibile fare copia-incolla sulle VM del cluster, inoltre posso connettermi in ssh dalla macchina dove ho la VM Kali. Su entrambe le macchine fisiche (Windows) ho installato mRemoteNG (che in realt\u00e0 \u00e8 un portable), https://mremoteng.org/download (stable). Scompattato nella directory x86 e creato collegamento sul desktop. Ho poi modificato i file host sulle macchine Windows (C:\\Windows\\System32\\drivers\\etc) definendo un nome mnemonico per ogni VM da associare al rispettivo IP statico che ho impostato precedentemente (control1, worker1, worker2, kali). In questo modo posso utilizzare quel nome mnemonico che verr\u00e0 risolto nell'IP corretto (ad es. posso fare ping control1 oppure impostare la connessione da mRemoteNG utilizzando worker2 invece del suo IP). Attenzione a non sbagliare la sintassi, con un tab tra l'IP ed il nome non funziona, lasciare uno spazio. Sulle VM del cluster: sudo apt-get install openssh-server -y sudo systemctl enable ssh sudo systemctl start ssh sudo systemctl status ssh reboot per testare che si avvii il servizio correttamente. Modificato file host (/etc/hosts) per fare le stesse associazioni fatte sulle macchine Windows. Provato ping e connessione tramite mRemoteNG. Snapshot Utili da fare prima di grandi cambiamenti che potrebbero compromettere la funzionalit\u00e0 del cluster, invece di ripartire da 0 posso ripartire da un punto a mio piacimento. Non ho previsto un sistema particolare di backup, al momento utilizzo la funzionalit\u00e0 di Virtualbox per fare lo snapshot quando lo ritengo necessario. Il primo snapshot riguarda quindi le VM installate ed aggiornate prima di installarci il cluster k8s.","title":"Parte 1.2 - Accesso SSH e snapshot"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.2%20-%20Accesso%20SSH%20e%20snapshot/#accesso-ssh-alle-macchine-tramite-mremoteng","text":"Altrimenti non \u00e8 possibile fare copia-incolla sulle VM del cluster, inoltre posso connettermi in ssh dalla macchina dove ho la VM Kali. Su entrambe le macchine fisiche (Windows) ho installato mRemoteNG (che in realt\u00e0 \u00e8 un portable), https://mremoteng.org/download (stable). Scompattato nella directory x86 e creato collegamento sul desktop. Ho poi modificato i file host sulle macchine Windows (C:\\Windows\\System32\\drivers\\etc) definendo un nome mnemonico per ogni VM da associare al rispettivo IP statico che ho impostato precedentemente (control1, worker1, worker2, kali). In questo modo posso utilizzare quel nome mnemonico che verr\u00e0 risolto nell'IP corretto (ad es. posso fare ping control1 oppure impostare la connessione da mRemoteNG utilizzando worker2 invece del suo IP). Attenzione a non sbagliare la sintassi, con un tab tra l'IP ed il nome non funziona, lasciare uno spazio. Sulle VM del cluster: sudo apt-get install openssh-server -y sudo systemctl enable ssh sudo systemctl start ssh sudo systemctl status ssh reboot per testare che si avvii il servizio correttamente. Modificato file host (/etc/hosts) per fare le stesse associazioni fatte sulle macchine Windows. Provato ping e connessione tramite mRemoteNG.","title":"Accesso SSH alle macchine tramite mRemoteNG"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.2%20-%20Accesso%20SSH%20e%20snapshot/#snapshot","text":"Utili da fare prima di grandi cambiamenti che potrebbero compromettere la funzionalit\u00e0 del cluster, invece di ripartire da 0 posso ripartire da un punto a mio piacimento. Non ho previsto un sistema particolare di backup, al momento utilizzo la funzionalit\u00e0 di Virtualbox per fare lo snapshot quando lo ritengo necessario. Il primo snapshot riguarda quindi le VM installate ed aggiornate prima di installarci il cluster k8s.","title":"Snapshot"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.3%20-%20Documentazione%20e%20repository/","text":"In questa sessione espongo come ho deciso di struttura la documentazione ed il repository con configurazioni/scripts etc. VS Code e Git Installazione Installato vscode (https://code.visualstudio.com/download), seguito il setup lasciando tutto di default. Installato git (https://git-scm.com/downloads): Tutto default tranne selezionato visual studio code come git default editor, come nome del default branch messo main, utilizzo OpenSSL library. Repository configurazioni/scripts Creata directory in locale. Creato .gitignore vuoto. git init dentro la directory creata git add . git commit -m \"commento\" Per\u00f2 chiede di settare le variabili globali: git config --global user.email \"mia_email\" git config --global user.name \"mio_username\" git commit -m \"commento\" Creato repo privato su github. Creato README.md con breve descrizione e commitato. git remote add origin git@github.com:username/nome_repo_privato.git (seguire la documentazione di Github che compare a valle della creazione del repo privato considerandola parte per SSH, git branch -M main non necessario perch\u00e9 il branch si chiama gi\u00e0 main avendo installato cos\u00ec il git). ssh-keygen -t ed25519 -C \"mia_email\" (da CLI Windows). Messa (chiave pubblica) su github (Profilo in alto a dx, poi Settings ed infine SSH and GPG keys e cliccare su New SSH key). test con ssh -T git@github.com Impostata shell bash come default in vscode: Repository per documentazione Creata directory devsecops-lab-docs + progetto pubblico su github cd devsecops-lab-docs Installato python sul computer (3.13.3), spuntate \"Use admin privileges when installing py.exe e Add python.exe to PATH\", disabilitato il PATH limit. pip install mkdocs mkdocs-material mkdocs new .","title":"Parte 1.3 - Documentazione e repository"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.3%20-%20Documentazione%20e%20repository/#vs-code-e-git","text":"","title":"VS Code e Git"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.3%20-%20Documentazione%20e%20repository/#installazione","text":"Installato vscode (https://code.visualstudio.com/download), seguito il setup lasciando tutto di default. Installato git (https://git-scm.com/downloads): Tutto default tranne selezionato visual studio code come git default editor, come nome del default branch messo main, utilizzo OpenSSL library.","title":"Installazione"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.3%20-%20Documentazione%20e%20repository/#repository-configurazioniscripts","text":"Creata directory in locale. Creato .gitignore vuoto. git init dentro la directory creata git add . git commit -m \"commento\" Per\u00f2 chiede di settare le variabili globali: git config --global user.email \"mia_email\" git config --global user.name \"mio_username\" git commit -m \"commento\" Creato repo privato su github. Creato README.md con breve descrizione e commitato. git remote add origin git@github.com:username/nome_repo_privato.git (seguire la documentazione di Github che compare a valle della creazione del repo privato considerandola parte per SSH, git branch -M main non necessario perch\u00e9 il branch si chiama gi\u00e0 main avendo installato cos\u00ec il git). ssh-keygen -t ed25519 -C \"mia_email\" (da CLI Windows). Messa (chiave pubblica) su github (Profilo in alto a dx, poi Settings ed infine SSH and GPG keys e cliccare su New SSH key). test con ssh -T git@github.com Impostata shell bash come default in vscode:","title":"Repository configurazioni/scripts"},{"location":"Personale/Laboratorio%20DevSecOps/Parte%201%20-%20Preparazione%20ambiente/Parte%201.3%20-%20Documentazione%20e%20repository/#repository-per-documentazione","text":"Creata directory devsecops-lab-docs + progetto pubblico su github cd devsecops-lab-docs Installato python sul computer (3.13.3), spuntate \"Use admin privileges when installing py.exe e Add python.exe to PATH\", disabilitato il PATH limit. pip install mkdocs mkdocs-material mkdocs new .","title":"Repository per documentazione"}]}